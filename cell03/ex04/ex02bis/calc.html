<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <style>
        * {
            box-sizing: border-box;
            /* กำหนดให้การคำนวณขนาดกล่องรวม padding และ border ด้วย */
        }

        body {
            margin: 0;
            /* ลบค่าระยะขอบรอบตัวเอกสาร */
        }

        .container {
            display: grid;
            /* ใช้รูปแบบการจัดวางเป็น Grid */
            justify-content: center;
            /* จัดตำแหน่งให้อยู่ตรงกลางแนวนอน */
            align-items: center;
            /* จัดตำแหน่งให้อยู่ตรงกลางแนวตั้ง */
            grid-template-columns: auto auto auto auto;
            /* กำหนดรูปแบบของคอลัมน์ใน Grid */
            column-gap: 20px;
            /* กำหนดระยะห่างระหว่างคอลัมน์ */
            height: 100vh;
            /* กำหนดความสูงของ container ให้เต็มหน้าจอ */
        }
    </style>
</head>

<body>
    <div class="container"> <!-- กำหนดกล่องที่มี class เป็น container เพื่อจัดองค์ประกอบต่างๆ -->
        <input type="text" id="Lf"> <!-- กล่องข้อความทางซ้ายสำหรับป้อนตัวเลข -->
        <select id="opeator"> <!-- ตัวเลือกเครื่องหมายคณิตศาสตร์ -->
            <option value="0">+</option>
            <option value="1">-</option>
            <option value="2">*</option>
            <option value="3">/</option>
            <option value="4">%</option>
        <input type="text" id="Rh">
        <button onclick="handleClick()">Try me!</button>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.1.slim.min.js"
        integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA=" crossorigin="anonymous"></script>

    <script>
        const opeators = ["+", "-", "*", "/", "%"];

        const handleClick = () => { // ฟังก์ชันที่ทำงานเมื่อคลิกปุ่ม "Try me!"
            const opeator = document.getElementById("opeator").value; // รับค่าเครื่องหมายจากตัวเลือก
            const left = Number($("#Lf").val()); // ดึงค่าจากกล่องข้อความทางซ้ายแล้วแปลงเป็นตัวเลข
            const right = Number($("#Rh").val()); // ดึงค่าจากกล่องข้อความทางขวาแล้วแปลงเป็นตัวเลข

            if (left < 0 || right < 0 || Number.isNaN(left) || Number.isNaN(right)) // ตรวจสอบว่าค่าที่ป้อนไม่ถูกต้องหรือเป็นลบ
                return alert("Error :(") & console.log("Error :("); // ถ้ามีค่าผิดพลาด แสดงการแจ้งเตือนและล็อกข้อผิดพลาด

            if ((opeator == 3 || opeator == 4) && right == 0) // ตรวจสอบการหารด้วย 0 สำหรับ / และ %
                return alert("It's over 9000!") & console.log("It's over 9000!"); // ถ้าหารด้วย 0 แสดงข้อความเตือน

            const res = eval(`${left} ${opeators[opeator]} ${right}`); // คำนวณผลลัพธ์โดยใช้ eval กับเครื่องหมายที่เลือก
            alert(res); // แสดงผลลัพธ์
            console.log(res); // ล็อกผลลัพธ์ในคอนโซล
        }

        setInterval(() => { // ฟังก์ชันที่ทำงานทุกๆ 30 วินาที
            alert("Please, use me...");
        }, 30 * 1000);
    </script>
</body>

</html>